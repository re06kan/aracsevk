{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nclass GirisComponent {\n  constructor(fb, authService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.loginError = '';\n    this.isLoading = false;\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required, Validators.minLength(3)]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  ngOnInit() {}\n  onSubmit() {\n    if (this.loginForm.valid) {\n      this.isLoading = true;\n      this.loginError = '';\n      const {\n        username,\n        password\n      } = this.loginForm.value;\n      this.authService.login(username, password).subscribe({\n        next: response => {\n          this.isLoading = false;\n          // Kullanıcı rolüne göre yönlendirme\n          if (response.role === 'admin') {\n            this.router.navigate(['/admin-dashboard']);\n          } else if (response.role === 'user') {\n            this.router.navigate(['/user-dashboard']);\n          } else {\n            this.router.navigate(['/home']);\n          }\n        },\n        error: error => {\n          this.isLoading = false;\n          this.loginError = 'Kullanıcı adı veya şifre hatalı';\n          console.error('Login error', error);\n        }\n      });\n    }\n  }\n  // Form kontrol metodları\n  get username() {\n    return this.loginForm.get('username');\n  }\n  get password() {\n    return this.loginForm.get('password');\n  }\n  static {\n    this.ɵfac = function GirisComponent_Factory(t) {\n      return new (t || GirisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: GirisComponent,\n      selectors: [[\"app-giris\"]],\n      decls: 14,\n      vars: 0,\n      consts: [[1, \"login-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"required\", \"\", \"placeholder\", \"Kullan\\u0131c\\u0131 ad\\u0131n\\u0131z\\u0131 girin\", 1, \"form-control\"], [\"username\", \"\"], [\"for\", \"password\"], [\"type\", \"password\", \"required\", \"\", \"placeholder\", \"\\u015Eifrenizi girin\", 1, \"form-control\"], [\"password\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n      template: function GirisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r2 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function GirisComponent_Template_form_ngSubmit_1_listener() {\n            i0.ɵɵrestoreView(_r2);\n            const _r0 = i0.ɵɵreference(6);\n            const _r1 = i0.ɵɵreference(11);\n            return i0.ɵɵresetView(ctx.onSubmit(_r0.value, _r1.value));\n          });\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n          i0.ɵɵtext(4, \"Kullan\\u0131c\\u0131 Ad\\u0131\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"input\", 4, 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\", 6);\n          i0.ɵɵtext(9, \"\\u015Eifre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"input\", 7, 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 9);\n          i0.ɵɵtext(13, \"Giri\\u015F Yap\");\n          i0.ɵɵelementEnd()()();\n        }\n      },\n      styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\", \".login-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 100px auto;\\n  padding: 20px;\\n  border: 1px solid #ddd;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  background-color: #007bff;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\"]\n    });\n  }\n}\nexport { GirisComponent };","map":{"version":3,"names":["Validators","GirisComponent","constructor","fb","authService","router","loginError","isLoading","loginForm","group","username","required","minLength","password","ngOnInit","onSubmit","valid","value","login","subscribe","next","response","role","navigate","error","console","get","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","GirisComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","GirisComponent_Template_form_ngSubmit_1_listener","ɵɵrestoreView","_r2","_r0","ɵɵreference","_r1","ɵɵresetView","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\work\\aracsevk\\frontend\\src\\app\\components\\giris\\giris.component.ts","C:\\work\\aracsevk\\frontend\\src\\app\\components\\giris\\giris.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-giris',\n  templateUrl: './giris.component.html',\n  styleUrls: ['./giris.component.css']\n})\nexport class GirisComponent implements OnInit {\n  loginForm: FormGroup;\n  loginError: string = '';\n  isLoading: boolean = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required, Validators.minLength(3)]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  ngOnInit(): void {}\n\n  onSubmit() {\n    if (this.loginForm.valid) {\n      this.isLoading = true;\n      this.loginError = '';\n\n      const { username, password } = this.loginForm.value;\n\n      this.authService.login(username, password).subscribe({\n        next: (response) => {\n          this.isLoading = false;\n          \n          // Kullanıcı rolüne göre yönlendirme\n          if (response.role === 'admin') {\n            this.router.navigate(['/admin-dashboard']);\n          } else if (response.role === 'user') {\n            this.router.navigate(['/user-dashboard']);\n          } else {\n            this.router.navigate(['/home']);\n          }\n        },\n        error: (error) => {\n          this.isLoading = false;\n          this.loginError = 'Kullanıcı adı veya şifre hatalı';\n          console.error('Login error', error);\n        }\n      });\n    }\n  }\n\n  // Form kontrol metodları\n  get username() { return this.loginForm.get('username'); }\n  get password() { return this.loginForm.get('password'); }\n}\n","<div class=\"login-container\">\n  <form (ngSubmit)=\"onSubmit(username.value, password.value)\">\n    <div class=\"form-group\">\n      <label for=\"username\">Kullanıcı Adı</label>\n      <input \n        type=\"text\" \n        #username \n        class=\"form-control\" \n        required \n        placeholder=\"Kullanıcı adınızı girin\"\n      >\n    </div>\n    <div class=\"form-group\">\n      <label for=\"password\">Şifre</label>\n      <input \n        type=\"password\" \n        #password \n        class=\"form-control\" \n        required \n        placeholder=\"Şifrenizi girin\"\n      >\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\">Giriş Yap</button>\n  </form>\n</div>\n\n<style>\n.login-container {\n  max-width: 400px;\n  margin: 100px auto;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-control {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.btn-primary {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-primary:hover {\n  background-color: #0056b3;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}